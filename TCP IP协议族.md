## 1. TCP/IP协议简介
互联网协议族（Internet Protocol Suite，缩写IPS）是一个网络通信模型。它常被通称为**TCP/IP协议族**。由于在网络通讯协议普遍采用分层的结构，当多个层次的协议共同工作时，类似计算机科学中的堆栈，因此又被称为**TCP/IP协议栈**

TCP/IP是一个四层体系结构，它从高到低包括**应用层、运输层、网际层和网络接口层**。高层逻辑上与用户更为接近，所处理数据更为抽象，它们依赖于低层将数据转换成最终能够进行实体控制的形式。

TCP/IP提供点对点的链接机制，将数据应该如何封装、定址、传输、路由以及在目的地如何接收加以标准化。常被称为简化的七层OSI模型。

![图片.png](https://upload-images.jianshu.io/upload_images/1732196-5449fa63962cb777.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

    注：五层协议的体系结构只是为了讲解网络原理而设计的，实际应用还是TCP/IP四层体系结构。

![图片.png](https://upload-images.jianshu.io/upload_images/1732196-56b7723bc4aa37e0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


## 2. 应用层

提供OSI用户服务，即确定进程之间通信的性质，以满足用户需要以及提供网络与用户应用软件之间的接口服务。

一些特定的程序被认为运行在这个层上。它们提供服务直接支持用户应用。这些程序和它们对应的协议包括[HTTP](https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE "超文本传输协议")（万维网服务）、[FTP](https://zh.wikipedia.org/wiki/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE "文件传输协议")（文件传输）、[SMTP](https://zh.wikipedia.org/wiki/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE "简单邮件传输协议")（电子邮件）、[SSH](https://zh.wikipedia.org/wiki/Secure_Shell "Secure Shell")（安全远程登陆）、[DNS](https://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F "域名系统")（名称<-> IP地址寻找）以及许多其他协议。 一旦从应用程序来的数据被编码成一个标准的应用层协议，它将被传送到IP栈的下一层。

每一个应用层协议一般都会使用到两个传输层协议之一： 面向连接的[TCP传输控制协议](https://zh.wikipedia.org/wiki/%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE "传输控制协议")和无连接的包传输的[UDP用户数据报文协议](https://zh.wikipedia.org/wiki/%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AE "用户数据报协议")。

**1). TCP对应的应用层协议**

 **FTP**：定义了文件传输协议，使用21端口。常说某某计算机开了FTP服务便是启动了文件传输服务。下载文件，上传主页，都要用到FTP服务。

**Telnet**：它是一种用于远程登陆的端口，用户可以以自己的身份远程连接到计算机上，通过这种端口可以提供一种基于DOS模式下的通信服务。如以前的BBS是-纯字符界面的，支持BBS的服务器将23端口打开，对外提供服务。

**SMTP**：定义了简单邮件传送协议，现在很多邮件服务器都用的是这个协议，用于发送邮件。如常见的免费邮件服务中用的就是这个邮件服务端口，所以在电子邮件设置-中常看到有这么SMTP端口设置这个栏，服务器开放的是25号端口。

**POP3**：它是和SMTP对应，POP3用于接收邮件。通常情况下，POP3协议所用的是110端口。也是说，只要你有相应的使用POP3协议的程序（例如Fo-xmail或Outlook），就可以不以Web方式登陆进邮箱界面，直接用邮件程序就可以收到邮件（如是163邮箱就没有必要先进入网易网站，再进入自己的邮-箱来收信）。

**HTTP**：从Web服务器传输超文本到本地浏览器的传送协议。

**2). UDP对应的应用层协议**

**DNS**：用于域名解析服务，将域名地址转换为IP地址。DNS用的是53号端口。

**TFTP**(Trival File Transfer Protocal)：简单文件传输协议，该协议在熟知端口69上使用UDP服务。

**SNMP**：简单网络管理协议，使用161号端口，是用来管理网络设备的。由于网络设备很多，无连接的服务就体现出其优势。

## 3. 传输层

传输层能够解决诸如端到端可靠性（“数据是否已经到达目的地？”）和保证数据按照正确的顺序到达这样的问题。在TCP/IP协议组中，传输协议也包括所给数据应该送给哪个应用程序。

该层主要使用TCP（传输控制协议）和UDP（用户数据报协议）这两个协议。

## 4.网络层

网络层提供**路由和寻址**的功能，使两终端系统能够互连且决定最佳路径，并具有一定的拥塞控制和流量控制的能力。由于TCP/IP协议体系中的网络层功能由IP协议规定和实现，故又称IP层。

## 5. 数据链路层

负责在两个相邻结点间的线路上，无差错地传送以帧为单位的数据，并进行流量控制。每一帧包括一定数量的数据和一些必要的控制信息。与物理层相似，数据链路层要负责建立、维持和释放数据链路的连接。在传送数据时，如果接收点检测到所传数据中有差错，就要通知发方重发这一帧。

## 6. 物理层

物理层规定:为传输数据所需要的物理链路创建、维持、拆除，而提供具有机械的，电子的，功能的和规范的特性。简单的说，物理层确保原始的数据可在各种物理媒体上传输。

## 7.扩展

- **局域网与广域网**皆属第1、2层。

- **MAC地址**（英语：Media Access Control Address），直译为媒体访问控制地址，也称物理地址（Physical Address），它是一个用来确认网络设备位置的地址。MAC地址用于在网络中唯一标示一个网卡，一台设备若有一或多个网卡，则每个网卡都需要并会有一个唯一的MAC地址。

- **网卡**是一块被设计用来允许计算机在计算机网络上进行通讯的计算机硬件。它使得用户可以通过电缆或无线相互连接。每一个网卡都有一个被称为MAC地址的独一无二的48位串行号，它被写在卡上的一块ROM中。

- **网关**也经常指把一种[协议](https://zh.wikipedia.org/wiki/%E5%8D%8F%E8%AE%AE "协议")转成另一种协议的设备。在今天很多局域网采用都是路由来接入网络，因此现在通常指的网关就是路由器的IP。但在现代网络术语中，网关（gateway）与路由器（router）的定义不同。网关（gateway）能在不同[协议](https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE "网络传输协议")间移动数据，而路由器（router）是在不同[网络](https://zh.wikipedia.org/wiki/%E7%B6%B2%E8%B7%AF "网络")间移动数据，相当于传统所说的IP网关（IP gateway）。